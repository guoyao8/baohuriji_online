import{j as e}from"./index-Ddi_foy2.js";import{r as I}from"./react-vendor-CA3giask.js";function y({currentAvatar:g,onAvatarChange:D,size:s="lg"}){const[a,d]=I.useState(g),r=I.useRef(null),u={sm:"size-16",md:"size-20",lg:"size-24"},m={sm:"h-6 w-6",md:"h-7 w-7",lg:"h-8 w-8"},j=t=>{var o;const i=(o=t.target.files)==null?void 0:o[0];if(!i)return;if(!i.type.startsWith("image/")){alert("请选择图片文件");return}if(i.size>5*1024*1024){alert("图片大小不能超过5MB");return}const n=new FileReader;n.onload=p=>{var N;const c=(N=p.target)==null?void 0:N.result;d(c),D(c)},n.readAsDataURL(i)},l=()=>{var t;(t=r.current)==null||t.click()};return e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`${u[s]} rounded-full bg-cover bg-center cursor-pointer hover:opacity-90 transition-opacity`,style:{backgroundImage:a?`url(${a})`:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTYiIGhlaWdodD0iOTYiIHZpZXdCb3g9IjAgMCA5NiA5NiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iOTYiIGhlaWdodD0iOTYiIGZpbGw9IiNFNUU3RUIiLz48cGF0aCBkPSJNNDggNTZDNTguNDkzNCA1NiA2NyA0Ny40OTM0IDY3IDM3QzY3IDI2LjUwNjYgNTguNDkzNCAxOCA0OCAxOEMzNy41MDY2IDE4IDI5IDI2LjUwNjYgMjkgMzdDMjkgNDcuNDkzNCAzNy41MDY2IDU2IDQ4IDU2WiIgZmlsbD0iIzlDQTNBRiIvPjxwYXRoIGQ9Ik0yMCA3OEMyMCA2NS44NDk3IDI5Ljg0OTcgNTYgNDIgNTZINTRDNjYuMTUwMyA1NiA3NiA2NS44NDk3IDc2IDc4VjgySDIwVjc4WiIgZmlsbD0iIzlDQTNBRiIvPjwvc3ZnPg=="},onClick:l}),e.jsx("button",{type:"button",onClick:l,className:`absolute bottom-0 right-0 flex ${m[s]} items-center justify-center rounded-full bg-primary text-white hover:bg-primary/90 transition-colors shadow-lg`,children:e.jsx("span",{className:"material-symbols-outlined text-xl",children:"photo_camera"})}),e.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:j,className:"hidden"})]})}export{y as A};
